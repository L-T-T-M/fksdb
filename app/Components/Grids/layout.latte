{varType FKSDB\Components\Grids\BaseGrid $control}

{varType int $resultsCount}
{varType bool $paginate}
{varType array $flashes}
{varType iterable $rows}
{var FKSDB\Components\Grids\ListComponent\ItemComponent[] $columns = $control->getColumnsContainer()->getComponents()}
{var FKSDB\Components\Grids\Components\GlobalButton[] $globalButtons = $control->getGlobalButtonsContainer()->getComponents()}
<div class="row mb-3">
    <div class="col-8">
        {if $control->hasGlobalButtons()}
            <div class="btn-group">
                {foreach $globalButtons as $globalButton}
                    {control $globalButton}&nbsp;
                {/foreach}
            </div>
        {/if}
    </div>
    <div class="col-4 text-right">
        {_'Total'} {$resultsCount} {($resultsCount == 1) ? _('záznam') : (($resultsCount >= 2 && $resultsCount <= 4) ? _('záznamy') : _('záznamů'))}
        {if $resultsCount && $paginate}
            {sprintf(_('(Zobrazeno %d až %d)'),$control->getPaginator()->getFirstItemOnPage(),$control->getPaginator()->getLastItemOnPage())}
        {/if}
    </div>
</div>
{if $control->isSearchable()}
    <div class="mb-3">
        {control searchForm}
    </div>
{/if}
{foreach $flashes as $flash}
    <div class="alert alert-{$flash->type}">
        {$flash->message}
    </div>
{/foreach}

{if !is_countable($rows) || count($rows)}
    <table class="table table-sm table-hover table-striped">
        <thead>
        <tr>
            {foreach $columns as $name=> $column}
                {continueIf $name === 'buttons'}
                <th>
                    {$column->title->toHtml()}
                </th>
            {/foreach}
            {if count($control->getColumnsContainer()->getButtonContainer()->getComponents())}
                <th></th>
            {/if}
        </tr>
        </thead>
        <tbody>
        {foreach $rows as $row}
            <tr>
                {control $control['columns'] $row,1024}
            </tr>
        {/foreach}
        </tbody>
    </table>
{else}
    {\FKSDB\Components\Badges\NoRecordsBadge::getHtml()}
{/if}
{if $paginate}
    {control paginator}
{/if}
